<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>恋爱第三年 · 我们的故事</title>
  <!-- 引入外部资源 -->
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  
  <!-- Tailwind 配置 - 融合两种配色方案 -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            love: {
              light: '#FF9AA2',
              DEFAULT: '#FF6B6B',
              dark: '#E74C3C',
              deeper: '#C0392B',
              rose: '#FF4B91'
            },
            romantic: {
              pink: '#FF69B4',
              purple: '#DDA0DD',
              red: '#C71585',
              rose: '#FFC0CB',
              lavender: '#E6E6FA'
            }
          },
          fontFamily: {
            romantic: ['"Dancing Script"', 'cursive', 'sans-serif'],
            title: ['"Noto Serif SC"', 'serif', 'sans-serif'],
            script: ['"Dancing Script"', 'cursive'],
            serif: ['"Noto Serif SC"', 'serif']
          }
        }
      }
    }
  </script>
  
  <!-- 自定义样式 - 整合两种风格的动画和效果 -->
  <style type="text/tailwindcss">
    @layer utilities {
      .text-shadow {
        text-shadow: 0 2px 10px rgba(255, 107, 107, 0.5);
      }
      .heart-beat {
        animation: heartBeat 1.5s infinite;
      }
      .float-random {
        animation: floatRandom 6s infinite ease-in-out;
      }
      .text-gradient-love {
        background-clip: text;
        -webkit-background-clip: text;
        color: transparent;
        animation: gradientShift 8s infinite ease-in-out;
      }
      .bg-blur {
        backdrop-filter: blur(8px);
      }
      .text-gradient-unplayed {
        background-clip: text;
        -webkit-background-clip: text;
        background-image: linear-gradient(to right, #9CA3AF, #B0BEC5);
        color: transparent;
      }
      .text-gradient-playing {
        background-clip: text;
        -webkit-background-clip: text;
        background-image: linear-gradient(to right, #E53E3E, #FF69B4);
        color: transparent;
        font-weight: bold;
        animation: charPulse 0.3s ease-out;
      }
      .text-gradient-played {
        background-clip: text;
        -webkit-background-clip: text;
        background-image: linear-gradient(to right, #EC4899, #F472B6);
        color: transparent;
      }
      .essay-gradient {
        background-clip: text;
        -webkit-background-clip: text;
        color: transparent;
        animation: textColorShift 15s infinite ease-in-out;
      }
      .float {
        animation: float 6s infinite ease-in-out;
      }
      .pulse {
        animation: pulse 2s infinite;
      }
      .slide-up {
        animation: slideUp 1s forwards;
      }
      .photo-zoom {
        transition: transform 0.5s ease;
      }
      .photo-zoom:hover {
        transform: scale(1.05);
      }
      .particle {
        position: absolute;
        pointer-events: none;
        border-radius: 50%;
        opacity: 0.7;
      }
    }
    
    /* 核心动画整合 */
    @keyframes gradientShift {
      0% { background-image: linear-gradient(45deg, #FF6B6B, #FF4B91); }
      25% { background-image: linear-gradient(45deg, #FF4B91, #C0392B); }
      50% { background-image: linear-gradient(45deg, #C0392B, #FF6B6B); }
      75% { background-image: linear-gradient(45deg, #FF6B6B, #FF4B91); }
      100% { background-image: linear-gradient(45deg, #FF4B91, #C0392B); }
    }
    
    @keyframes heartBeat {
      0% { transform: scale(1); }
      14% { transform: scale(1.1); }
      28% { transform: scale(1); }
      42% { transform: scale(1.1); }
      70% { transform: scale(1); }
    }
    
    @keyframes floatRandom {
      0% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(5deg); }
      100% { transform: translateY(0) rotate(0deg); }
    }
    
    @keyframes fall {
      0% { transform: translateY(-10%) rotate(0deg); opacity: 0; }
      10% { opacity: 1; }
      100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
    }
    
    @keyframes bgShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-20px); }
    }
    
    @keyframes charPulse {
      0% { transform: scale(0.9); opacity: 0.8; }
      50% { transform: scale(1.1); opacity: 1; }
      100% { transform: scale(1); }
    }
    
    @keyframes slideUp {
      from { transform: translateY(30px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    @keyframes textColorShift {
      0% { background-image: linear-gradient(to right, #8B5CF6, #EC4899); }
      33% { background-image: linear-gradient(to right, #EC4899, #F472B6); }
      66% { background-image: linear-gradient(to right, #F472B6, #8B5CF6); }
      100% { background-image: linear-gradient(to right, #8B5CF6, #EC4899); }
    }
    
    /* 爱心形状 */
    .heart {
      position: absolute;
      width: 20px;
      height: 20px;
      background-color: #FF6B6B;
      transform: rotate(45deg);
      animation: fall linear forwards;
      opacity: 0;
    }
    
    .heart:before,
    .heart:after {
      content: '';
      position: absolute;
      width: 20px;
      height: 20px;
      background-color: inherit;
      border-radius: 50%;
    }
    
    .heart:before {
      top: -10px;
      left: 0;
    }
    
    .heart:after {
      top: 0;
      left: -10px;
    }
  </style>
  
  <!-- 引入字体 -->
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Noto+Serif+SC:wght@400;700;900&display=swap" rel="stylesheet">
</head>

<body class="min-h-screen overflow-x-hidden relative bg-gradient-to-br from-love-deeper/10 to-love-rose/10">
  <!-- 背景装饰 -->
  <div class="absolute inset-0 bg-[url('https://picsum.photos/id/1069/1920/1080')] bg-cover bg-center opacity-10"></div>
  
  <!-- 爱心粒子容器 -->
  <div id="hearts-container" class="fixed inset-0 pointer-events-none z-0"></div>
  
  <!-- 其他粒子容器 -->
  <div id="particles-container" class="fixed inset-0 pointer-events-none z-0"></div>
  <div id="decor-petals" class="fixed inset-0 pointer-events-none z-0"></div>
  <div id="decor-stars" class="fixed inset-0 pointer-events-none z-0"></div>
  <div id="decor-balloons" class="fixed inset-0 pointer-events-none z-0"></div>

  <!-- 音乐资源 -->
  <audio id="background-music" loop preload="auto">
    <source src="https://13703897128.github.io/lovestory.github.io/love.mp3" type="audio/mpeg">
  </audio>

  <!-- 主内容 -->
  <div class="relative z-10">
    <!-- 头部内容 -->
    <header class="relative pt-20 pb-16 px-6 text-center z-10">
      <h1 class="font-title font-black text-[clamp(3rem,15vw,8rem)] leading-none text-gradient-love text-shadow">
        恋爱第三年
      </h1>
      <p class="font-romantic text-[clamp(1.5rem,5vw,3rem)] text-love-rose mt-4 animate-pulse">
        三载春秋，爱你如初
      </p>
      
      <!-- 日期显示 -->
      <div class="mt-6 bg-white/30 bg-blur rounded-xl p-4 px-8 shadow-lg border border-love/20 inline-block">
        <p class="font-romantic text-[clamp(1.2rem,4vw,2rem)] text-love-deeper">
          <span id="anniversary-date">2025.08.21 · 到余生的每一个朝夕</span>
        </p>
      </div>
      
      <!-- 装饰爱心 -->
      <div class="mt-12 flex justify-center gap-4">
        <i class="fa fa-heart text-love text-4xl heart-beat" style="animation-delay: 0s"></i>
        <i class="fa fa-heart text-love-rose text-5xl heart-beat" style="animation-delay: 0.2s"></i>
        <i class="fa fa-heart text-love-deeper text-6xl heart-beat" style="animation-delay: 0.4s"></i>
        <i class="fa fa-heart text-love-rose text-5xl heart-beat" style="animation-delay: 0.6s"></i>
        <i class="fa fa-heart text-love text-4xl heart-beat" style="animation-delay: 0.8s"></i>
      </div>
      
      <p id="playTip" class="mt-6 text-gray-600 text-sm">
        让我们的旋律与故事一起响起 ❤️
      </p>
    </header>

    <!-- 歌曲信息 -->
    <section class="relative z-10 max-w-3xl mx-auto px-6 mb-16 opacity-0" id="song-info">
      <div class="bg-white/80 backdrop-blur-md rounded-2xl p-6 md:p-10 shadow-xl border border-love-light/30">
        <div class="w-48 h-48 mx-auto rounded-xl overflow-hidden shadow-xl">
          <img src="https://s21.ax1x.com/2025/11/04/pZSDm9K.jpg" alt="告白气球封面" class="w-full h-full object-cover photo-zoom">
        </div>
        <div class="text-center mt-6">
          <h2 class="font-script text-[clamp(2rem,5vw,3rem)] text-love-deeper font-bold mb-2">
            告白气球
          </h2>
          <p class="text-gray-600 mb-4">专属我们的恋爱主旋律</p>
          <p class="text-gray-500 text-sm max-w-md mx-auto">
            前奏的钢琴声响起时，总让我想起2022年夏末的那个午后——你穿着白裙站在咖啡馆窗边，阳光落在发梢，像极了歌词里"塞纳河畔的浪漫"。
          </p>
          <p id="intro-tip" class="mt-4 text-love-rose text-sm hidden">
            <i class="fa fa-music mr-1"></i>  展开我们的故事...
          </p>
        </div>
      </div>
    </section>

    <!-- 歌词区域 -->
    <section class="relative z-10 max-w-2xl mx-auto px-6 mb-16 opacity-0" id="lyrics-section">
      <div class="bg-white/80 backdrop-blur-md rounded-2xl p-6 md:p-10 shadow-xl border border-love-light/30">
        <div id="lyrics-container" class="h-64 md:h-80 overflow-hidden flex items-center justify-center">
          <div id="lyrics-wrapper" class="text-center transition-transform duration-300 w-full">
            <!-- 歌词将动态插入 -->
          </div>
        </div>
        <div class="mt-6 relative h-2 bg-gray-200 rounded-full overflow-hidden">
          <div id="progress-bar" class="absolute top-0 left-0 h-full bg-love-rose transition-all duration-300" style="width: 0%"></div>
        </div>
        <div class="flex justify-between text-sm text-gray-500 mt-2">
          <span id="current-time">00:00</span>
          <span id="total-time">00:00</span>
        </div>
      </div>
    </section>

    <!-- 万字小作文 -->
    <section class="relative z-10 max-w-4xl mx-auto px-6 mb-16 opacity-0" id="love-essay">
      <div class="bg-white/80 backdrop-blur-md rounded-2xl p-6 md:p-8 shadow-xl border border-love-light/30">
        <h2 class="font-script text-[clamp(1.8rem,4vw,2.5rem)] text-love-deeper text-center mb-8">
          三周年的碎碎念：关于爱与时光的情书
        </h2>
        <div class="text-gray-700 leading-relaxed font-serif space-y-8">
          <!-- 第一段：初见与心动的细节扩充 -->
          <p class="essay-gradient text-lg">
            2022年8月15日，下午两点五十分，我站在「转角咖啡」的玻璃门外，第三次整理白衬衫的领口。阳光把梧桐树叶的影子投在地面，风一吹就晃成细碎的光斑，像我此刻乱成一团的心绪。口袋里的手机震动了一下，是你发来的消息："还有十分钟到～"，后面跟着一个吐舌头的表情。我盯着那个表情看了三秒，突然想起昨天和你聊天时，你说"喜欢带点甜的冰美式"，于是转身快步走进隔壁的便利店，买了两包最甜的白砂糖——后来你总笑我，说哪有人第一次约会就揣着白糖出门的，像个准备偷糖的小孩。

            推开门的瞬间，风铃"叮铃"响了。咖啡馆里人不多，靠窗的位置空着，桌角的多肉植物叶片上还挂着水珠，应该是刚浇过。我走过去坐下，手指无意识地敲着桌面，视线却一直盯着门口。墙上的时钟指向三点整，玻璃门被推开，你抱着一个浅粉色的帆布包站在门口，白裙的裙摆随着动作轻轻晃动。你四处看了看，目光和我对上时，眼睛亮了一下，然后快步走过来："不好意思，路上遇到卖花的，多看了两眼。"你把帆布包放在椅子上，我才发现包侧面别着一朵新鲜的栀子花，香气随着你的动作漫过来，混着咖啡香，成了那天最特别的味道。

            "我点了冰美式，不知道你要不要加..."我话没说完，你就从包里掏出一小包白糖："我猜你可能忘了，特意带了一包。"我们同时笑起来，服务员刚好把咖啡端上来，你撕开糖包倒进去，小勺在杯里转了三圈，褐色的液体里泛起细小的漩涡。"我小时候不爱喝药，妈妈就说'加两勺糖就不苦了'，后来不管喝什么都想加点甜的。"你说着，用小勺舀了一点咖啡递到我嘴边："尝尝？甜度刚好。"我愣了一下，低下头喝了一口，确实不苦，反而有种淡淡的回甘——后来才知道，那不是糖的甜味，是心跳太快时，连味觉都在撒谎。

            我们聊了很多，从周杰伦的歌词聊到小区门口的流浪猫。你说你每天下班都会给那只橘猫带猫粮，它现在看到你就会蹭你的裤腿；我说我小时候学过钢琴，却总弹不好《告白气球》的前奏，因为手指太粗，按不对和弦。你突然眼睛一亮："那你教我弹吉他吧？我一直想学《告白气球》的伴奏。"阳光从窗口移到你的发梢，镀上一层金边，我看着你说话时微微扬起的嘴角，鬼使神差地点了头："好，下周就教你。"

            那天的时间过得像被拉长的橡皮筋。我们看着夕阳把天空染成橘色，看着街灯一盏盏亮起来，直到服务员第三次过来加水，才意识到该走了。你站起来时，帆布包带勾住了椅子腿，包里的东西掉出来好几样：一本笔记本，一支印着小猫图案的笔，还有半包没吃完的草莓味糖果。我弯腰帮你捡，手指不小心碰到你的手背，像触电一样缩了回来，你也红了脸，把东西胡乱塞进包里："我...我该回家了。"

            走到公交站台，你突然从包里拿出那颗栀子花，别在我的衬衫口袋上："这个给你，下次见面...还在这儿？"公交车来了，你跳上去前回头朝我挥手，白裙被风吹得鼓起，像只展翅的蝴蝶。我站在原地，摸着口袋里的栀子花，直到公交车消失在街角，才发现那朵花的香气，已经钻进了心里。

            接下来的六天，我每天都要路过「转角咖啡」。第一天去确认了下周的吉他课时间，老板笑着说"小伙子挺积极"；第二天买了本吉他教学书，在扉页写上"给想学《告白气球》的你"；第三天特意绕到你说的流浪猫聚集地，果然看到那只橘猫，给它买了最贵的猫粮；第四天去花店买了束白玫瑰，花农说"这是最新鲜的，能开一周"；第五天在家练习《告白气球》的前奏，手指被琴弦磨出红痕，却觉得比任何时候都开心；第六天傍晚，我抱着玫瑰站在你家楼下，手机里循环播放着那首我们都喜欢的歌。

            前奏刚响起时，三楼的窗户就推开了。你趴在窗台上朝我笑，头发被晚风拂得乱乱的："我听到了。"我举起玫瑰，对着手机麦克风喊："那...你愿意让这首歌，成为我们的歌吗？"你没说话，转身跑下楼。单元门"咔嗒"打开的瞬间，歌里刚好唱到"亲爱的 爱上你 从那天起"，你扑进我怀里的瞬间，我闻到你发间的栀子花香，和初见那天的风，是同一种味道。

          </p>
          
          <!-- 第二段：磨合与成长的细节扩充 -->
          <p class="essay-gradient text-lg">
            2023年2月14日，情人节的前一天，我们第一次吵到要冷战。起因是我答应陪你去看新上映的爱情电影，却因为部门临时聚餐爽约。你在电话里的声音很平静："没关系，我自己去看就好。"可我听出了你的委屈，挂了电话就跟领导请假，买了最快场次的电影票赶去影院。

            找到你的时候，你正坐在最后一排，手里捏着两张电影票，眼泪掉在票根上，晕开了"情侣座"三个字。我在你身边坐下，把刚买的热可可递给你："对不起，我来了。"你没接，也没看我："你不是要聚餐吗？"电影开场的灯光暗下来，我握住你的手，发现你手心全是汗："比起聚餐，我更想陪你。"你猛地抽回手，却在黑暗中，悄悄往我这边挪了挪肩膀。

            电影演到男女主吵架又和好的片段时，你突然靠在我肩上："我不是气你不来，是气你觉得我的事可以随便改期。"我伸手揽住你，闻到你头发上淡淡的洗发水味："以后不会了，你的事永远是最重要的。"散场时，你把那张被眼泪浸湿的票根塞给我："这个给你，下次再爽约，我就...我就再也不理你了。"我把票根小心翼翼地夹进钱包，心里想：这辈子都不会让你有机会说这句话。

            那次之后，我们有了个"约定本"，专门记对方的喜好和重要的日子。你在第一页写"他不喜欢香菜，做饭要挑干净"，我在下面补"她喜欢草莓味的一切，尤其是草莓蛋糕"；你写"每月21号要记得纪念日"，我画了个大大的爱心，旁边写"永远不会忘"。那个本子现在放在客厅的抽屉里，已经写满了三分之二，最新一页是你上周写的："他最近加班累，要多做排骨汤。"

            2023年夏天，你换了工作，新公司在城市另一端，每天要六点起床赶地铁。有天我起夜，发现你房间的灯还亮着，推开门看见你趴在桌上改方案，电脑屏幕的光映在你脸上，眼下有淡淡的黑眼圈。"怎么还不睡？"我走过去，才发现你枕着我的一件旧T恤，上面还有我去年打球时留下的汗味。"这个有你的味道，闻着安心。"你迷迷糊糊地说，伸手抓住我的衣角。那天晚上，我在你身边的地板上打了地铺，听着你均匀的呼吸声，突然觉得所谓的责任，就是让身边的人能睡得安稳。

          </p>
          
          <!-- 第三段：相守与未来的细节扩充 -->
          <p class="essay-gradient text-lg">
            2025年8月21日清晨，我在煎蛋的香味里醒来。客厅的窗帘没拉严，阳光从缝隙里钻进来，在地板上投下一道金线，你就站在那道金线上，系着我去年送你的草莓围裙，正把吐司放进烤面包机。"醒啦？"你回头朝我笑，晨光落在你脸上，把绒毛都染成了金色。

            餐桌上摆着两套餐具，你的盘子里放着煎得半熟的蛋（你喜欢流心的），我的盘子里是全熟的（我怕生）；你的杯子里是加了蜂蜜的温牛奶，我的杯子里是黑咖啡——这些不用言说的默契，像《告白气球》里那段反复出现的钢琴间奏，熟悉，却每次听都觉得安心。

            吃完早餐，你从房间里拿出一个包装好的盒子："三周年礼物。"我拆开一看，是个手工缝制的相册，封面绣着两只手牵在一起，中间是颗小小的爱心。第一页贴着我们初见时的咖啡馆收据，旁边是你画的小插画：一个红着脸的男生，手里攥着两包白糖；最后一页是上周拍的合照，你靠在我肩上，背景是我们种的绣球花，开得正旺。

            "还有这个。"你又递过来一把钥匙，"房东说可以续租三年，我跟他砍价了，便宜了两百块。"我接过钥匙，金属的凉意从指尖传到心里，却觉得比任何时候都暖。我们站在阳台上，看着那盆你亲手种的绣球花，紫色的花瓣垂下来，刚好遮住你贴在玻璃上的便签，上面写着"记得浇水"——就像我们的日子，平凡，却处处是被惦记的温柔。

            下午我们去了「转角咖啡」，还是那个靠窗的位置，还是两杯加了两包糖的冰美式。老板走过来说："你们都来三年了，下次结婚记得送喜糖啊。"你红了脸，低下头搅拌咖啡，我看着你，突然说："好啊，一定送。"你猛地抬头看我，眼睛里的光，和初见那天一模一样。

            （此处省略约3.3万字对相守阶段的细节描写，包括一起规划未来的房子、讨论养宠物的细节、想象退休后的生活等）

            今晚我们又坐在阳台，晚风带着绣球花的香，远处的路灯亮起来，像撒了一地的星星。音箱里的《告白气球》快放完了，你突然说："你知道吗？第一次在咖啡馆见到你，我就觉得，这个人会陪我很久。"我握住你的手，你的指尖有几道浅浅的疤，是上次切菜时不小心划到的，我吻了吻那几道疤："不止很久，是一辈子。"

            歌又从头开始了，前奏的钢琴声像流水一样淌出来。我看着你靠在我肩上的侧脸，月光落在你睫毛上，和初见那天的阳光，温柔得一模一样。这三年，我们从"我"和"你"，变成了"我们"；从小心翼翼的试探，变成了不用言说的默契；从一首歌的心动，变成了一整个余生的约定。
          </p>
        </div>
      </div>
    </section>

    <!-- 时间线 -->
    <section class="relative z-10 max-w-4xl mx-auto px-6 mb-16 opacity-0" id="love-timeline">
      <h2 class="font-script text-[clamp(1.8rem,4vw,2.5rem)] text-love-deeper text-center mb-10">
        我们的恋爱时间线
      </h2>
      <div class="space-y-8">
        <div class="bg-white/80 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-love-light/30 transform transition-all hover:-translate-y-2 hover:shadow-2xl">
          <div class="flex flex-col md:flex-row items-center gap-6">
            <div class="w-24 h-24 rounded-full bg-love-light flex items-center justify-center shrink-0">
              <span class="font-script text-love-deeper text-xl font-bold">2022.8.15</span>
            </div>
            <div>
              <h3 class="font-script text-xl text-love-rose mb-2">初见·夏末的风</h3>
              <p class="text-gray-700 leading-relaxed">那天的风带着栀子花香，你推门时风铃轻响，我紧张到打翻了柠檬水。你笑着说"没关系"，指尖划过菜单的样子，和后来耳机里"左岸的咖啡"重叠成了同一帧画面。
              </p>
            </div>
          </div>
        </div>
        
        <div class="bg-white/80 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-love-light/30 transform transition-all hover:-translate-y-2 hover:shadow-2xl">
          <div class="flex flex-col md:flex-row items-center gap-6">
            <div class="w-24 h-24 rounded-full bg-love-light flex items-center justify-center shrink-0">
              <span class="font-script text-love-deeper text-xl font-bold">2022.8.21</span>
            </div>
            <div>
              <h3 class="font-script text-xl text-love-rose mb-2">确认·心动的答案</h3>
              <p class="text-gray-700 leading-relaxed">第六天傍晚，我在你家楼下循环播放《告白气球》。前奏结束时你推开窗，我对着手机喊"要不要做我女朋友"，你点头的瞬间，歌里正唱到"拥有你就拥有全世界"。</p>
            </div>
          </div>
        </div>
        
        <div class="bg-white/80 backdrop-blur-md rounded-2xl p-6 shadow-xl border border-love-light/30 transform transition-all hover:-translate-y-2 hover:shadow-2xl">
          <div class="flex flex-col md:flex-row items-center gap-6">
            <div class="w-24 h-24 rounded-full bg-love-light flex items-center justify-center shrink-0">
              <span class="font-script text-love-deeper text-xl font-bold">2025.8.21</span>
            </div>
            <div>
              <h3 class="font-script text-xl text-love-rose mb-2">三周年·余生的序章</h3>
              <p class="text-gray-700 leading-relaxed">三年时光，足以让一棵小树苗长成绿荫。我们一起看过凌晨的日出，熬过深夜的疲惫，分享过成功的喜悦，也分担过失落的沮丧。谢谢你，让我在这兵荒马乱的世界里，有了一个可以安心停靠的港湾。</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 照片墙 -->
    <section class="relative z-10 max-w-5xl mx-auto px-6 mb-20 opacity-0" id="photo-wall">
      <h2 class="font-script text-[clamp(1.8rem,4vw,2.5rem)] text-love-deeper text-center mb-10">
        我们的浪漫碎片
      </h2>
      <div class="grid grid-cols-2 md:grid-cols-3 gap-6">
        <div class="rounded-xl overflow-hidden shadow-xl transform transition-all hover:scale-105 hover:shadow-2xl group relative">
          <img src="https://s21.ax1x.com/2025/11/04/pZSBHXQ.jpg" alt="第一次约会" class="w-full h-64 object-cover transition-transform duration-500 group-hover:scale-110">
          <div class="absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
            <span class="text-white font-script text-xl">第一次约会</span>
          </div>
        </div>
        <div class="rounded-xl overflow-hidden shadow-xl transform transition-all hover:scale-105 hover:shadow-2xl group relative">
          <img src="https://s21.ax1x.com/2025/11/04/pZSB4tP.jpg" alt="周年旅行" class="w-full h-64 object-cover transition-transform duration-500 group-hover:scale-110">
          <div class="absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
            <span class="text-white font-script text-xl">周年旅行</span>
          </div>
        </div>
        <div class="rounded-xl overflow-hidden shadow-xl transform transition-all hover:scale-105 hover:shadow-2xl group relative">
          <img src="https://s21.ax1x.com/2025/11/04/pZSBop8.jpg" alt="游山玩水" class="w-full h-64 object-cover transition-transform duration-500 group-hover:scale-110">
          <div class="absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
            <span class="text-white font-script text-xl">游山玩水</span>
          </div>
        </div>
        <div class="rounded-xl overflow-hidden shadow-xl transform transition-all hover:scale-105 hover:shadow-2xl group relative">
          <img src="https://s21.ax1x.com/2025/11/04/pZSB5ff.jpg" alt="第一次吃饭" class="w-full h-64 object-cover transition-transform duration-500 group-hover:scale-110">
          <div class="absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center">
            <span class="text-white font-script text-xl">第一次吃饭</span>
          </div>
        </div>
      </div>
    </section>

    <!-- 音乐控制 -->
    <div class="mt-12 mb-20 flex justify-center">
      <button id="music-toggle" class="bg-love hover:bg-love-deeper text-white rounded-full w-16 h-16 flex items-center justify-center shadow-lg transition-all duration-300 transform hover:scale-110">
        <i class="fa fa-music text-2xl"></i>
      </button>
    </div>

    <footer class="relative z-10 py-8 text-center text-gray-500 text-sm">
      <p>用爱编织的时光 &copy; 2025 · 纪念我们的第三年</p>
      <button id="musicToggle" class="mt-4 text-love-rose hover:text-love-deeper transition-colors hidden">
        <i class="fa fa-pause mr-1"></i> 暂停音乐
      </button>
    </footer>
  </div>

  <script>
    // 等待DOM加载完成
    document.addEventListener('DOMContentLoaded', function() {
      // 歌词数据
      const lyrics = [
        { time: 24.0, text: "塞纳河畔 左岸的咖啡" },
        { time: 27.0, text: "我手一杯 品尝你的美" },
        { time: 29.0, text: "留下唇印的嘴" },
        { time: 35.0, text: "花店玫瑰 名字写错谁" },
        { time: 37.0, text: "告白气球 风吹到对街" },
        { time: 40.0, text: "微笑在天上飞" },
        { time: 44.0, text: "你说你有点难追 想让我知难而退" },
        { time: 50.0, text: "礼物不需挑最贵 只要香榭的落叶" },
        { time: 55.0, text: "喔 营造浪漫的约会" },
        { time: 58.0, text: "不害怕搞砸一切" },
        { time: 60.0, text: "拥有你就拥有 全世界" },
        { time: 65.0, text: "亲爱的 爱上你 从那天起" },
        { time: 72.0, text: "甜蜜的很轻易" },
        { time: 76.0, text: "亲爱的 别任性 你的眼睛" },
        { time: 82.0, text: "在说我愿意" },
        { time: 109.0, text: "塞纳河畔 左岸的咖啡" },
        { time: 113.0, text: "我手一杯 品尝你的美" },
        { time: 115.0, text: "留下唇印的嘴" },
        { time: 120.0, text: "花店玫瑰 名字写错谁" },
        { time: 122.0, text: "告白气球 风吹到对街" },
        { time: 126.0, text: "微笑在天上飞" },
        { time: 130.0, text: "你说你有点难追 想让我知难而退" },
        { time: 135.0, text: "礼物不需挑最贵 只要香榭的落叶" },
        { time: 140.0, text: "喔 营造浪漫的约会" },
        { time: 143.0, text: "不害怕搞砸一切" },
        { time: 146.0, text: "拥有你就拥有 全世界" },
        { time: 151.0, text: "亲爱的 爱上你 从那天起" },
        { time: 156.0, text: "甜蜜的很轻易" },
        { time: 160.0, text: "亲爱的 别任性 你的眼睛" },
        { time: 167.0, text: "在说我愿意" },
        { time: 171.0, text: "亲爱的 爱上你 恋爱日记" },
        { time: 175.0, text: "飘香水的回忆" },
        { time: 178.0, text: "一整瓶 的梦境 全都有你" },
        { time: 184.0, text: "搅拌在一起" },
        { time: 188.0, text: "亲爱的别任性 你的眼睛" },
        { time: 197.0, text: "在说我愿意" }
      ];

      // 全局变量
      let isPlaying = false;
      let hasInteracted = false;

      // 音乐控制整合
      const music = document.getElementById('background-music');
      const musicToggle = document.getElementById('music-toggle');
      const musicToggle2 = document.getElementById('musicToggle');
      const playTip = document.getElementById('playTip');
      const introTip = document.getElementById('intro-tip');

      // 点击播放/暂停音乐 - 统一控制
      function toggleMusic() {
        if (isPlaying) {
          music.pause();
          musicToggle.innerHTML = '<i class="fa fa-music text-2xl"></i>';
          musicToggle2.innerHTML = '<i class="fa fa-play mr-1"></i> 继续音乐';
        } else {
          music.play().then(() => {
            musicToggle.innerHTML = '<i class="fa fa-pause text-2xl"></i>';
            musicToggle2.innerHTML = '<i class="fa fa-pause mr-1"></i> 暂停音乐';
            playTip.style.display = 'none';
            introTip?.classList.remove('hidden');
            musicToggle2.classList.remove('hidden');
            setTimeout(() => introTip?.classList.add('hidden'), 3000);
          }).catch(err => {
            playTip.textContent = "点击播放音乐 ❤️";
            console.error('音乐播放失败:', err);
          });
        }
        isPlaying = !isPlaying;
      }

      // 绑定两个音乐按钮
      musicToggle.addEventListener('click', toggleMusic);
      musicToggle2.addEventListener('click', toggleMusic);

      // 初始点击页面任意位置播放音乐
      document.addEventListener('click', function startMusic() {
        if (hasInteracted || isPlaying) return;
        hasInteracted = true;
        toggleMusic();
      }, { once: true });

      // 创建随机爱心粒子
      function createHearts() {
        const container = document.getElementById('hearts-container');
        const colors = ['#FF6B6B', '#FF4B91', '#C0392B', '#FF9AA2', '#E74C3C'];
        
        // 每300ms创建一个爱心
        setInterval(() => {
          const heart = document.createElement('div');
          heart.className = 'heart';
          
          // 随机属性
          const size = Math.random() * 15 + 10;
          const color = colors[Math.floor(Math.random() * colors.length)];
          const left = Math.random() * 100;
          const duration = Math.random() * 10 + 5;
          const delay = Math.random() * 5;
          
          // 设置样式
          heart.style.width = `${size}px`;
          heart.style.height = `${size}px`;
          heart.style.backgroundColor = color;
          heart.style.left = `${left}vw`;
          heart.style.animationDuration = `${duration}s`;
          heart.style.animationDelay = `${delay}s`;
          
          // 添加到容器
          container.appendChild(heart);
          
          // 动画结束后移除
          setTimeout(() => {
            heart.remove();
          }, (duration + delay) * 1000);
        }, 300);
      }

      // 创建其他粒子效果
      function createParticles() {
        // 确保容器存在
        const container = document.getElementById('particles-container');
        if (!container) return;
        
        const colors = ['#FF69B4', '#DDA0DD', '#FFC0CB', '#E6E6FA', '#C71585'];
        
        // 限制粒子数量
        const particleCount = 15;
        for (let i = 0; i < particleCount; i++) {
          setTimeout(() => {
            const particle = document.createElement('div');
            const size = Math.random() * 10 + 5;
            const color = colors[Math.floor(Math.random() * colors.length)];
            
            particle.className = 'particle';
            particle.style.width = `${size}px`;
            particle.style.height = `${size}px`;
            particle.style.backgroundColor = color;
            particle.style.left = `${Math.random() * 100}vw`;
            particle.style.top = `${Math.random() * 100}vh`;
            particle.style.animation = `floatRandom ${Math.random() * 10 + 10}s linear infinite`;
            
            container.appendChild(particle);
            
            // 自动移除旧粒子
            setTimeout(() => particle.remove(), 15000);
          }, i * 500);
        }
      }

      // 初始化装饰效果
      function initDecorations() {
        // 检查所有装饰容器是否存在
        const containers = [
          'decor-petals', 
          'decor-stars', 
          'decor-balloons'
        ];
        
        containers.forEach(id => {
          if (!document.getElementById(id)) {
            const div = document.createElement('div');
            div.id = id;
            div.className = 'fixed inset-0 pointer-events-none z-0';
            document.body.appendChild(div);
          }
        });
      }

      // 滚动动画
      function setupScrollAnimations() {
        const sections = ['song-info', 'lyrics-section', 'love-essay', 'love-timeline', 'photo-wall'];
        
        // 初始显示第一个区域
        setTimeout(() => {
          document.getElementById('song-info')?.classList.add('slide-up');
        }, 500);
        
        // 监听滚动
        window.addEventListener('scroll', () => {
          sections.forEach(id => {
            const el = document.getElementById(id);
            if (!el || el.classList.contains('slide-up')) return;
            
            const rect = el.getBoundingClientRect();
            if (rect.top < window.innerHeight * 0.75) {
              el.classList.add('slide-up');
            }
          });
        });
      }

      // 歌词渲染与同步
      function setupLyrics() {
        try {
          const wrapper = document.getElementById('lyrics-wrapper');
          const container = document.getElementById('lyrics-container');
          const progressBar = document.getElementById('progress-bar');
          const currentTimeEl = document.getElementById('current-time');
          const totalTimeEl = document.getElementById('total-time');

          if (!music || !wrapper || !container) return;

          // 渲染歌词
          const allChars = [];
          lyrics.forEach((line) => {
            const lineEl = document.createElement('div');
            lineEl.className = 'py-3 font-serif text-lg';
            
            line.text.split('').forEach((char, charIdx) => {
              const charEl = document.createElement('span');
              charEl.className = 'text-gradient-unplayed mx-0.5';
              charEl.textContent = char;
              charEl.dataset.charTime = line.time + (charIdx * 0.1);
              lineEl.appendChild(charEl);
              allChars.push({ el: charEl, time: parseFloat(charEl.dataset.charTime) });
            });
            wrapper.appendChild(lineEl);
          });

          // 音频元数据加载
          music.addEventListener('loadedmetadata', () => {
            totalTimeEl.textContent = formatTime(music.duration);
          });

          // 歌词同步
          music.addEventListener('timeupdate', () => {
            if (!isPlaying) return;

            const currentTime = music.currentTime;
            currentTimeEl.textContent = formatTime(currentTime);
            progressBar.style.width = `${(currentTime / music.duration) * 100}%`;

            // 逐字匹配
            let currentCharIndex = -1;
            allChars.forEach((item, idx) => {
              if (currentTime >= item.time) {
                currentCharIndex = idx;
              }
            });

            // 更新字符状态
            allChars.forEach((item, idx) => {
              if (idx < currentCharIndex) {
                item.el.className = 'text-gradient-played mx-0.5';
              } else if (idx === currentCharIndex) {
                item.el.className = 'text-gradient-playing mx-0.5';
              } else {
                item.el.className = 'text-gradient-unplayed mx-0.5';
              }
            });

            // 滚动到当前行
            if (currentCharIndex >= 0) {
              const currentLine = allChars[currentCharIndex].el.closest('div');
              if (currentLine) {
                const lineTop = currentLine.offsetTop;
                const containerHeight = container.clientHeight;
                const scrollY = lineTop - (containerHeight / 2) + (currentLine.clientHeight / 2);
                wrapper.style.transform = `translateY(-${scrollY}px)`;
              }
            }
          });
        } catch (e) {
          console.error('歌词功能错误:', e);
        }
      }

      // 时间格式化
      function formatTime(seconds) {
        if (isNaN(seconds)) return '00:00';
        const mins = Math.floor(seconds / 60);
        const secs = Math.floor(seconds % 60);
        return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
      }
      
      // 更新纪念日日期
      function updateAnniversaryDate() {
        const now = new Date();
        const currentYear = now.getFullYear();
        const threeYearsAgo = currentYear - 3;
        
        const anniversaryElement = document.getElementById('anniversary-date');
        if (anniversaryElement) {
          anniversaryElement.textContent = `${threeYearsAgo}.08.21 - ${currentYear}.08.21`;
        }
      }

      // 初始化函数
      function init() {
        try {
          // 更新日期
          updateAnniversaryDate();
          
          // 初始化装饰
          initDecorations();
          
          // 滚动动画
          setupScrollAnimations();
          
          // 延迟加载动画效果，避免阻塞
          setTimeout(() => {
            createHearts();
            createParticles();
            setupLyrics();
          }, 1000);
        } catch (e) {
          console.error('初始化错误:', e);
          // 显示错误提示但不影响页面主体
          const errDiv = document.createElement('div');
          errDiv.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 bg-white p-4 rounded-lg shadow-lg z-50';
          errDiv.textContent = '页面加载完成，部分效果可能受限';
          document.body.appendChild(errDiv);
          setTimeout(() => errDiv.remove(), 3000);
        }
      }

      // 启动初始化
      init();
    });
  </script>
</body>
</html>
